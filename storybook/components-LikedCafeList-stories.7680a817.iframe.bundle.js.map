{"version":3,"file":"components-LikedCafeList-stories.7680a817.iframe.bundle.js","mappings":";;;;AAqDA;AACA;AACA;AAGA;;;AAGA;AACA;AAGA;;;AAKA;;;AAGA;AACA;AAGA;;;;AAMA","sources":["webpack://yozm-cafe/./src/components/LikedCafeList.tsx"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { styled } from 'styled-components';\nimport useIntersection from '../hooks/useIntersection';\nimport useLikedCafes from '../hooks/useLikedCafes';\nimport Resource from '../utils/Resource';\n\nconst LikedCafeList = () => {\n  const { likedCafes, fetchNextPage, isFetching, hasNextPage } = useLikedCafes();\n\n  const ref = useRef<HTMLDivElement>(null);\n  const intersection = useIntersection(ref, { threshold: 1 });\n\n  useMemo(() => {\n    const shouldFetch = hasNextPage && !isFetching && intersection?.isIntersecting;\n\n    if (shouldFetch) {\n      fetchNextPage();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [intersection]);\n\n  return (\n    <Container>\n      <TitleContainer>\n        <Title>좋아요한 카페 리스트</Title>\n      </TitleContainer>\n      <ScrollContainer>\n        <GridContainer>\n          {likedCafes.map((cafe) => (\n            <Link to={`/my-profile/cafes/${cafe.cafeId}`} key={cafe.cafeId}>\n              <CafeImage\n                key={cafe.cafeId}\n                src={Resource.getImageUrl({ size: '500', filename: cafe.imageUrl })}\n                alt={`Cafe ${cafe.cafeId}`}\n              />\n            </Link>\n          ))}\n        </GridContainer>\n        <SensorContainer ref={ref} />\n      </ScrollContainer>\n    </Container>\n  );\n};\n\nexport default LikedCafeList;\n\nconst Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst Title = styled.h1`\n  margin-bottom: ${({ theme }) => theme.space['3']};\n  color: ${({ theme }) => theme.color.gray};\n`;\n\nconst TitleContainer = styled.article`\n  display: flex;\n  justify-content: center;\n  margin-bottom: ${({ theme }) => theme.space['3']};\n  border-bottom: solid ${({ theme }) => theme.color.line.secondary};\n`;\n\nconst ScrollContainer = styled.div`\n  overflow-y: scroll;\n  flex: 1;\n`;\n\nconst GridContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: ${({ theme }) => theme.space['0.5']};\n  margin-bottom: ${({ theme }) => theme.space['10']};\n`;\n\nconst CafeImage = styled.img`\n  aspect-ratio: 1 / 1;\n  width: 100%;\n  height: 100%;\n`;\n\nconst SensorContainer = styled.div``;\n"],"names":[],"sourceRoot":""}